{% extends 'sancho/base.html'%}
{% load static %}

{% block content %}
    <h1>Procesar Backtests</h1>
    <div class="alert alert-danger" role="alert" style="display: none;" id="error"></div>
    <form method="post" action="{% url 'sancho:process_backtests' %}" enctype="multipart/form-data" id="backtest-form"> 
    <!-- <form method="post" enctype="multipart/form-data" id="backtest-form"></form> -->
      {% csrf_token %}
      <div class="form-group">
        <label for="backtests">Selecciona los archivos de backtest para ser procesados: </label>
        <input type="file" class="form-control-file" name="backtests" id="backtests" accept=".html,.htm" multiple required>
        <br><br>
        <label for="start-date">Inicio del backtest</label>
        <input type="date" id="start" name="bt-start" value="2011-01-01" required>
        <label for="end-date">Fin del backtest</label>
        <input type="date" id="start" name="bt-end" value="2022-12-31" required>
        <br><br>
        <label for="opti-number">Número de optimización: </label>
        <input type="number" id="opti-number" name="opti-number" min=1 step=1 required>
        <br><br>
        <label for="timeframe">Timeframe: </label>
        <select name="tfs" id="timeframe">-- Por favor, selecciona una opción --
          <option value="M1">M1</option>
          <option value="M5">M5</option>
          <option value="M15">M15</option>
          <option value="M30">M30</option>
          <option value="H1">H1</option>
          <option value="H4">H4</option>
          <option value="D1">D1</option>
        </select>
        <br><br>
      </div>
      <div>
        <button type="submit" class="btn btn-primary" name="process">Procesar</button>
      </div>      
    </form>
    <br>
    <div class="progress" style="display: none;">
      <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;">
        0%
      </div>
    </div>
    <div class="alert alert-success" role="alert" style="display: none;" id="result">
      <strong>¡Perfecto!</strong> Los archivos han sido procesados.
    </div>
{% endblock %}





